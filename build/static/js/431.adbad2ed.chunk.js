"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[431],{7263:function(e,t,n){var a=n(5861),r=n(7757),s=n.n(r),c=n(5485),u=n(8183),i=(n(2791),n(2622)),o=n(3695),l=n(184);t.Z=function(e){var t=e.dataSource,n=e.setDataSource,r=e.row,d=e.delFunct,f=e.setTablesDataToFormValues,p=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.delEl,t.newData,o.ZP.loading({content:"Loading...",key:"delete"}),e.next=4,d(n);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){r.Id||r.id&&(r.Id=r.id,t.forEach((function(e){return e.Id=e.id})))};return(0,l.jsx)(c.Z.Link,{children:(0,l.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:(0,l.jsx)(u.Z,{title:"Are you sure you want to delete this item?",okText:"Yes",cancelText:"No",onConfirm:function(e){x();var a=t.filter((function(e){return e.Id!==r.Id})),s=t.find((function(e){return e.Id===r.Id}));d?p({delEl:s,newData:a}):(f&&f(a),n(a))},children:(0,l.jsx)("div",{style:{color:"red"},children:(0,l.jsx)(i.Z,{})})})})})}},5929:function(e,t,n){n.d(t,{Z:function(){return F}});var a=n(1413),r=n(2791),s=n(3433),c=n(9439),u=n(4925),i=n(570),o=n(5597),l=n(5861),d=n(4942),f=n(7757),p=n.n(f),x=n(2666),v=n(3734),h=n(7083),m=n(184),b=v.Z.Option,Z=function(e){var t=e.dataIndex,n=e.title,a=e.inputRef,r=e.save;return(0,m.jsx)(i.Z.Item,{style:{margin:0},name:t,rules:[{required:!0,message:"Please enter the valid ".concat(n.toLowerCase(),"...")}],children:(0,m.jsxs)(v.Z,{allowClear:!0,ref:a,notFoundContent:(0,m.jsx)(h.Z,{size:"small"}),lazyLoad:!0,className:"customSelect detail-select stepSelectCustomer",onBlur:function(){r("select")},children:[(0,m.jsx)(b,{value:"Tabletka",children:"Tablet"}),(0,m.jsx)(b,{value:"Ampula",children:"Ampoule"}),(0,m.jsx)(b,{value:"Kapli",children:"Drops"})]})})},y=n(9389),w=function(e){var t=e.dataIndex,n=e.title,a=e.inputRef,s=e.save,c=(0,r.useMemo)((function(){return"cureTabUsing"!==t}),[t]);return(0,m.jsx)(i.Z.Item,{style:{margin:0},name:t,rules:[{required:c,message:"Please enter the valid ".concat(n.toLowerCase(),"...")}],children:(0,m.jsx)(y.Z,{ref:a,onPressEnter:s,onBlur:s})})},S=(0,r.memo)(w),g=v.Z.Option,k=function(e){var t=e.dataIndex,n=e.title,a=e.inputRef,r=e.save,s=(0,x.b)().managersList;return(0,m.jsx)(i.Z.Item,{style:{margin:0},name:t,rules:[{required:!0,message:"Please enter the valid ".concat(n.toLowerCase(),"...")}],children:(0,m.jsx)(v.Z,{allowClear:!0,ref:a,notFoundContent:(0,m.jsx)(h.Z,{size:"small"}),lazyLoad:!0,className:"customSelect detail-select stepSelectCustomer",onBlur:function(){r("select")},children:null===s||void 0===s?void 0:s.map((function(e,t){return(0,m.jsx)(g,{value:JSON.stringify(e),children:e.cureTabName},e.cureTabId)}))})})},j=function(e){var t=e.dataIndex,n=e.title,a=e.inputRef,r=e.save,s=e.inputType;return"useTabs"===t||"cureTabName"===t&&"select"===s?(0,m.jsx)(k,{dataIndex:t,title:n,inputRef:a,save:r}):"cureTabType"===t&&"select"===s?(0,m.jsx)(Z,{dataIndex:t,title:n,inputRef:a,save:r}):(0,m.jsx)(S,{dataIndex:t,title:n,inputRef:a,save:r})},I=(0,r.memo)(j),T=function(e){var t=e.title,n=e.editable,s=e.children,u=e.dataIndex,i=e.record,o=e.handleSave,f=e.setShowSaveButton,v=e.form,h=e.inputType,b=(0,r.useState)(!1),Z=(0,c.Z)(b,2),y=Z[0],w=Z[1],S=(0,x.b)(),g=(S.managersList,S.isChangeTable),k=S.setIsChangeTable,j=S.isAddNewRow,T=(0,r.useRef)(null);(0,r.useEffect)((function(){j&&"Ad"===t&&N()}),[j]),(0,r.useEffect)((function(){y&&T.current.focus()}),[y]),(0,r.useEffect)((function(){g&&k(!1)}),[g]);var N=function(){f&&f(!0),k(!0),w(!y),v.setFieldsValue((0,d.Z)({},u,i[u]))},C=function(){var e=(0,l.Z)(p().mark((function e(t){var n,r,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.validateFields();case 3:n=e.sent,Object.keys(n).includes("useTabs")&&"select"===t&&(r=JSON.parse(n.useTabs),n.useTabs=r.cureTabName,n.cureTabType=r.cureTabType),Object.keys(n).includes("cureTabName")&&"select"===t&&(s=JSON.parse(n.cureTabName),n.cureTabName=s.cureTabName,n.cureTabType=s.cureTabType),N(),o((0,a.Z)((0,a.Z)({},i),n)),k(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),P=s;return n&&(P=y?(0,m.jsx)(I,{dataIndex:u,title:t,inputRef:T,save:C,inputType:h}):(0,m.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24,height:"35px"},onClick:N,children:s})),{childNode:P}},N=["index"],C=["title","editable","children","dataIndex","record","handleSave","setShowSaveButton","inputType"],P=r.createContext(null),B=function(e){e.index;var t=(0,u.Z)(e,N),n=i.Z.useForm(),r=(0,c.Z)(n,1)[0];return(0,m.jsx)(i.Z,{form:r,component:!1,children:(0,m.jsx)(P.Provider,{value:r,children:(0,m.jsx)("tr",(0,a.Z)({},t))})})},D=function(e){var t=e.title,n=e.editable,s=e.children,c=e.dataIndex,i=e.record,o=e.handleSave,l=e.setShowSaveButton,d=e.inputType,f=(0,u.Z)(e,C),p=(0,r.useContext)(P),x=T({title:t,editable:n,children:s,dataIndex:c,record:i,handleSave:o,setShowSaveButton:l,inputType:d,form:p}).childNode;return(0,m.jsx)("td",(0,a.Z)((0,a.Z)({},f),{},{children:x}))},E=function(e){var t=e.dataSource,n=e.setDataSource,r=e.defaultColumns,c=e.setShowSaveButton,u=(e.className,function(e){var r=(0,s.Z)(t),c=r.findIndex((function(t){return e.key===t.key})),u=r[c];r.splice(c,1,(0,a.Z)((0,a.Z)({},u),e)),n(r)}),i={body:{row:B,cell:D}},l=r.map((function(e){return e.editable?(0,a.Z)((0,a.Z)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,inputType:e.inputType,handleSave:u,setShowSaveButton:c}}}):e}));return(0,m.jsx)("div",{children:(0,m.jsx)(o.Z,{className:"my_table",components:i,bordered:!0,rowClassName:function(){return"editable-row"},dataSource:t,columns:l,locale:{emptyText:"..."},pagination:!1})})},L=(0,r.memo)(E),R=function(e){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(L,(0,a.Z)({},e))})},F=(0,r.memo)(R)},9431:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(141),r=n(2791),s=n(1413),c=n(5861),u=n(3433),i=n(9439),o=n(7757),l=n.n(o),d=n(3695),f=n(4749),p=n(7263),x=n(5929),v=n(184);var h=function(e){var t=e.onClick,n=e.title,a=void 0===n?"Save":n;return(0,v.jsx)("button",{type:"button",className:"new_button w-100 new-success-button",onClick:t,children:a})},m=function(e){var t=e.onClickNewBundle,n=e.handleSave,a=e.showSaveButton;return(0,v.jsxs)("div",{className:"managers_buttons",children:[(0,v.jsx)("button",{type:"button",className:"new_button w-100",onClick:t,children:"+ Add new"}),a&&(0,v.jsx)(h,{disabled:a,onClick:n})]})},b=n(2666);var Z=function(e){var t=(0,r.useState)(0),n=(0,i.Z)(t,2),a=n[0],o=n[1],h=(0,r.useState)(!1),Z=(0,i.Z)(h,2),y=Z[0],w=Z[1],S=(0,b.b)(),g=S.managersPlaces,k=S.setManagersPlaces,j=S.setisAddNewRow,I=function(){var e=(0,c.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!1),t=0;case 2:if(!(t<g.length)){e.next=11;break}return n=(0,s.Z)({},g[t]),e.next=6,(0,f.Z)("managers/places",n,"post");case 6:e.sent?d.ZP.success({content:"Saved",key:"save_manager"}):d.ZP.error("Error");case 8:t++,e.next=2;break;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=g.filter((function(t){return t.Id!==e.Id}));k(t),d.ZP.success("Deleted")},N=function(){var e=(0,c.Z)(l().mark((function e(t){var n,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.visitPlaceId){e.next=3;break}return e.abrupt("return",T(t));case 3:return e.next=5,(0,f.Z)("managers/places/"+n,{},"delete");case 5:if("success"!==(null===(a=e.sent)||void 0===a?void 0:a.data)){e.next=13;break}return d.ZP.success("deleted"),e.next=10,(0,f.Z)("managers/places");case 10:(r=e.sent).data.forEach((function(e){return e.Id=e.visitPlaceId})),k(r.data);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=(0,r.useMemo)((function(){return[{title:"Name",dataIndex:"placeName",key:"placeName",editable:!0,width:"200px"},{title:"City",dataIndex:"placeCity",key:"placeCity",editable:!0,width:"200px"},{title:"Country",dataIndex:"placeCountry",key:"placeCountry",editable:!0,width:"200px"},{title:"",dataIndex:"delete",key:"delete",width:"20px",render:function(e,t,n){return(0,v.jsx)(p.Z,{row:t,dataSource:g,setDataSource:k,delFunct:N})}}]}),[g.length]);return(0,v.jsxs)("div",{className:"managers-table",children:[(0,v.jsx)(m,{showSaveButton:y,handleSave:I,onClickNewBundle:function(){var e={key:a,Id:a};k([].concat((0,u.Z)(g),[e])),o(a+1),w(!0),j(!0)}}),(0,v.jsx)(x.Z,{setShowSaveButton:w,dataSource:g,setDataSource:k,defaultColumns:C})]})};var y=function(e){var t=(0,r.useState)(0),n=(0,i.Z)(t,2),a=n[0],o=n[1],h=(0,r.useState)(!1),Z=(0,i.Z)(h,2),y=Z[0],w=Z[1],S=(0,b.b)(),g=S.managersList,k=S.setManagersList,j=function(){var e=(0,c.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!1),t=0;case 2:if(!(t<g.length)){e.next=11;break}return n=(0,s.Z)({},g[t]),e.next=6,(0,f.Z)("managers/tabs",n,"post");case 6:e.sent?d.ZP.success({content:"Saved",key:"save_manager"}):d.ZP.error("Error");case 8:t++,e.next=2;break;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){var t=g.filter((function(t){return t.Id!==e.Id}));k(t),d.ZP.success("Deleted")},T=function(){var e=(0,c.Z)(l().mark((function e(t){var n,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.cureTabId){e.next=3;break}return e.abrupt("return",I(t));case 3:return e.next=5,(0,f.Z)("managers/tabs/"+n,{},"delete");case 5:if("success"!==(null===(a=e.sent)||void 0===a?void 0:a.data)){e.next=15;break}return d.ZP.success("Deleted"),e.next=10,(0,f.Z)("managers/tabs");case 10:(r=e.sent).data.forEach((function(e){return e.Id=e.cureTabId})),k(r.data),e.next=16;break;case 15:d.ZP.warning("Don't deleted.");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(0,r.useMemo)((function(){return[{title:"Name",dataIndex:"cureTabName",key:"cureTabName",editable:!0,width:"200px"},{title:"Type",dataIndex:"cureTabType",inputType:"select",key:"cureTabType",editable:!0,width:"200px"},{title:"Mg/Ml",dataIndex:"cureTabSize",key:"cureTabSize",editable:!0,width:"200px"},{title:"",dataIndex:"delete",key:"delete",width:"20px",render:function(e,t,n){return(0,v.jsx)(p.Z,{row:t,dataSource:g,setDataSource:k,delFunct:T})}}]}),[g.length]);return(0,v.jsxs)("div",{className:"managers-table",children:[(0,v.jsx)(m,{showSaveButton:y,handleSave:j,onClickNewBundle:function(){var e={key:a,Id:a};k([].concat((0,u.Z)(g),[e])),o(a+1),w(!0)}}),(0,v.jsx)(x.Z,{setShowSaveButton:w,dataSource:g,setDataSource:k,defaultColumns:N})]})};var w=function(e){var t=(0,r.useState)(0),n=(0,i.Z)(t,2),a=n[0],o=n[1],h=(0,r.useState)(!1),Z=(0,i.Z)(h,2),y=Z[0],w=Z[1],S=(0,b.b)(),g=S.pathologistsList,k=S.setPathologistsList,j=function(){var e=(0,c.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!1),t=0;case 2:if(!(t<g.length)){e.next=11;break}return n=(0,s.Z)({},g[t]),e.next=6,(0,f.Z)("managers/pathologists",n,"post");case 6:e.sent?d.ZP.success({content:"Saved",key:"save_manager"}):d.ZP.error("Error");case 8:t++,e.next=2;break;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){var t=g.filter((function(t){return t.Id!==e.Id}));k(t),d.ZP.success("Deleted")},T=function(){var e=(0,c.Z)(l().mark((function e(t){var n,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pathologistId){e.next=3;break}return e.abrupt("return",I(t));case 3:return e.next=5,(0,f.Z)("managers/pathologists/"+n,{},"delete");case 5:if("success"!==(null===(a=e.sent)||void 0===a?void 0:a.data)){e.next=15;break}return d.ZP.success("Deleted"),e.next=10,(0,f.Z)("managers/pathologists");case 10:(r=e.sent).data.forEach((function(e){return e.Id=e.pathologistId})),k(r.data),e.next=16;break;case 15:d.ZP.warning("Don't deleted.");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(0,r.useMemo)((function(){return[{title:"Name",dataIndex:"pathologistName",key:"pathologistName",editable:!0,width:"200px"},{title:"Place",dataIndex:"pathologistPlace",key:"pathologistPlace",editable:!0,width:"200px"},{title:"",dataIndex:"delete",key:"delete",width:"20px",render:function(e,t,n){return(0,v.jsx)(p.Z,{row:t,dataSource:g,setDataSource:k,delFunct:T})}}]}),[g.length]);return(0,v.jsxs)("div",{className:"managers-table",children:[(0,v.jsx)(m,{showSaveButton:y,handleSave:j,onClickNewBundle:function(){var e={key:a,Id:a};k([].concat((0,u.Z)(g),[e])),o(a+1),w(!0)}}),(0,v.jsx)(x.Z,{setShowSaveButton:w,dataSource:g,setDataSource:k,defaultColumns:N})]})},S=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(a.Z,{onChange:function(e){},centered:!0,defaultActiveKey:"1",style:{margin:"0px 20px 0px 20px"},children:[(0,v.jsx)(a.Z.TabPane,{tab:"Reception locations",children:(0,v.jsx)("div",{style:g,children:(0,v.jsx)(Z,{})})},"1"),(0,v.jsx)(a.Z.TabPane,{tab:"Medications",children:(0,v.jsx)("div",{style:g,children:(0,v.jsx)(y,{})})},"2"),(0,v.jsx)(a.Z.TabPane,{tab:"Pathologists",children:(0,v.jsx)("div",{style:g,children:(0,v.jsx)(w,{})})},"3")]})})},g={padding:"50px"}}}]);
//# sourceMappingURL=431.adbad2ed.chunk.js.map